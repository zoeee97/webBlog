import{_ as t,X as e,Y as p,$ as n,a0 as s,a1 as c,Z as o,C as i}from"./framework-1e167b4e.js";const u={},l=o(`<h1 id="input框禁止输入空格与macos系统自带输入法兼容性问题" tabindex="-1"><a class="header-anchor" href="#input框禁止输入空格与macos系统自带输入法兼容性问题" aria-hidden="true">#</a> input框禁止输入空格与macOS系统自带输入法兼容性问题</h1><p>之前有一个需求是要求用户不能键入空格，于是我写了如下代码。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 禁止input键入空格</span>
<span class="token keyword">var</span> inputs <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&#39;input&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>inputs<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">input</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  input<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;input&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\s+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>之后交付代码的时候，发现使用macOS自带的中文输入法输入的时候会有问题。具体表现为，连续打中文的时候，前面的文字会直接变成拼音，这是因为macOS自带的中文输入法是通过空格去分隔拼音，而在键入过程中去空格就会导致无法正常分隔。</p>`,4),r={href:"https://blog.csdn.net/txp1993/article/details/124452919",target:"_blank",rel:"noopener noreferrer"};function k(d,_){const a=i("ExternalLinkIcon");return e(),p("div",null,[l,n("p",null,[s("搜了一下兼容的写法，具体可以参考这个： "),n("a",r,[s("输入框去空格指令兼容ios苹果系统中文输入法"),c(a)])])])}const v=t(u,[["render",k],["__file","input框禁止输入空格与macOS系统自带输入法兼容性问题.html.vue"]]);export{v as default};
